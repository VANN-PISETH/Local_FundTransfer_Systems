
@{
    ViewBag.Title = "ShowHistory";
}

<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="~/assets/css/bootstrap.css">
<link rel="stylesheet" href="~/assets/vendors/simple-datatables/style.css">
<link rel="stylesheet" href="~/assets/vendors/perfect-scrollbar/perfect-scrollbar.css">
<link rel="stylesheet" href="~/assets/vendors/bootstrap-icons/bootstrap-icons.css">
<link rel="stylesheet" href="~/assets/css/app.css">
<link rel="shortcut icon" href="~/assets/images/favicon.svg" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<section class="section">
    <div class="card">
        <div class="card-body">
            <table class="table table-striped" id="table1">
                <thead>
                    <tr>
                        <th>No.</th>
                        <th>Transaction ID</th>
                        <th>User ID</th>
                        <th>Account Number</th>
                        <th>Transaction Type</th>
                        <th>Total</th>
                        <th>CCY</th>
                        <th>Date</th>
                        <th>Status</th>
                        
                    </tr>
                </thead>
                <tbody>
                    <tr>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>



<script src="~/assets/vendors/perfect-scrollbar/perfect-scrollbar.min.js"></script>
<script src="~/assets/js/bootstrap.bundle.min.js"></script>
<script src="~/assets/vendors/simple-datatables/simple-datatables.js"></script>
<script src="~/assets/js/main.js"></script>
<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<script src="~/Scripts/pagination.js"></script>
<script src="~/Scripts/Pagination.min.js"></script>
<script type="text/javascript">
   
        let table1 = document.querySelector('#table1');
        let dataTable = new simpleDatatables.DataTable(table1);
   
   
    function History() {
            $.ajax({
            type: 'GET',
            url: '@Url.Action("showtxn", "TxnHistory")',
            data: {},
            dataType: 'json',
                success: function (data) {
                var rows;
                    $.each(data, function (i, item) {
                    rows += "<tr>"
                        + "<td>" + (i += 1) + "</td>"
                        + "<td>" + item.TxnID + "</td>"
                        + "<td>" + item.UserID + "</td>"
                        + "<td>" + item.AccID + "</td>"
                        + "<td>" + item.TxnType + "</td>"
                        + "<td>" + item.Total + "</td>"
                        + "<td>" + item.CCY + "</td>"
                        + "<td>" + item.DateTxn + "</td>"
                        + "<td>" + item.status + "</td>"
                        
                        + "</tr>";
                });
                  $('#table1 tbody').append(rows);
                }
            });
    }
    History()
    
</script>

