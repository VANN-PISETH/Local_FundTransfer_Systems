
@{
    ViewBag.Title = "FundTransfer";
}


<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="~/assets/css/bootstrap.css">
<link rel="stylesheet" href="~/assets/vendors/iconly/bold.css">
<link rel="stylesheet" href="~/assets/vendors/perfect-scrollbar/perfect-scrollbar.css">
<link rel="stylesheet" href="~/assets/vendors/bootstrap-icons/bootstrap-icons.css">
<link rel="stylesheet" href="~/assets/css/app.css">
<link rel="stylesheet" href="~/assets/vendors/sweetalert2/sweetalert2.min.css">
<link rel="shortcut icon" href="~/assets/images/favicon.svg" type="image/x-icon">
<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

<!-- Basic Horizontal form layout section start -->
@*<div id="app">
    <div id="main">
        <div class="page-heading">*@
<form class="needs-novalidate-update">
    <section id="basic-horizontal-layouts">
        <div class="row match-height">
            <div class="col-md-12 col-12">
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title">User</h4>
                    </div>
                    <div class="card-content">
                        <div class="card-body">
                            <form class="form form-horizontal">
                                <div class="form-body">
                                    <div class="row">
                                        <div class="col-md-12 form-group">
                                            <input type="text" id="txtUserID" class="form-control"
                                                   placeholder="UserID" required>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="basic-horizontal-layouts">
        <div class="row match-height">
            <div class="col-md-6 col-12">
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title">Sender Information</h4>
                    </div>
                    <div class="card-content">
                        <div class="card-body">
                            <form class="form form-horizontal">
                                <div class="form-body">
                                    <div class="row">

                                        <div class="col-md-4">
                                            <label>Account Number</label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="form-group has-icon-left">
                                                <div class="position-relative">
                                                    <input type="text" id="txtAccIDSender" class="form-control"
                                                           name="SenderAcc" placeholder="Account Number" required>

                                                    <div class="form-control-icon">
                                                        <i class="bi bi-person-circle"></i>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>

                                        @*<label class="col-sm-2"></label>
                                            <div class="col-sm-10">
                                                <p id="Status"></p>
                                            </div>*@
                                        <div class="col-md-4">
                                            <label>Name</label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="form-group has-icon-left">
                                                <div class="position-relative">
                                                    <input type="text" class="form-control"
                                                           placeholder="Name" id="Sender-Name" readonly>

                                                    <div class="form-control-icon">
                                                        <i class="bi bi-envelope"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <label>Phone</label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="form-group has-icon-left">
                                                <div class="position-relative">
                                                    <input type="text" class="form-control"
                                                           placeholder="Phone" id="Sender-Phone" readonly>
                                                    <div class="form-control-icon">
                                                        <i class="bi bi-phone"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <label>Gender</label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="form-group has-icon-left">
                                                <div class="position-relative">
                                                    <input type="text" class="form-control"
                                                           placeholder="Gender" id="Sender-Gender" readonly>

                                                    <div class="form-control-icon">
                                                        <i class="bi bi-gear-fill"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <label>Address</label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="form-group has-icon-left">
                                                <div class="position-relative">
                                                    <input type="text" class="form-control"
                                                           placeholder="Address" id="Sender-Address" readonly>
                                                    <div class="form-control-icon">
                                                        <i class="bi bi-house"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <label>Balance</label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="form-group has-icon-left">
                                                <div class="position-relative">
                                                    <input type="text" class="form-control"
                                                           placeholder="Balance" id="Sender-Balance" readonly>
                                                    <div class="form-control-icon">
                                                        <i class="bi bi-wallet"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6 col-12">
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title">Reciever Information</h4>
                    </div>
                    <div class="card-content">
                        <div class="card-body">
                            <form class="form form-horizontal">
                                <div class="form-body">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label>Account Number</label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="form-group has-icon-left">
                                                <div class="position-relative">
                                                    <input type="text" id="Reciever-Acc" class="form-control"
                                                           name="ReceiverAcc" placeholder="Account Number" required>
                                                    <div class="form-control-icon">
                                                        <i class="bi bi-person-circle"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <label>Name</label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="form-group has-icon-left">
                                                <div class="position-relative">
                                                    <input type="text" class="form-control"
                                                           placeholder="Name" id="Receiver-Name" readonly>
                                                    <div class="form-control-icon">
                                                        <i class="bi bi-envelope"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <label>Phone</label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="form-group has-icon-left">
                                                <div class="position-relative">
                                                    <input type="text" class="form-control"
                                                           placeholder="Phone" id="Receiver-Phone" readonly>
                                                    <div class="form-control-icon">
                                                        <i class="bi bi-phone"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <label>Gender</label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="form-group has-icon-left">
                                                <div class="position-relative">

                                                    <input type="text" class="form-control"
                                                           placeholder="Gender" id="Receiver-Gender" readonly>
                                                    <div class="form-control-icon">
                                                        <i class="bi bi-gear-fill"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <label>Address</label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="form-group has-icon-left">
                                                <div class="position-relative">
                                                    <input type="text" class="form-control"
                                                           placeholder="Address" id="Receiver-Address" readonly>
                                                    <div class="form-control-icon">
                                                        <i class="bi bi-house"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <label>Balance</label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="form-group has-icon-left">
                                                <div class="position-relative">
                                                    <input type="text" class="form-control"
                                                           placeholder="Balance" id="Receiver-Balance" readonly>
                                                    <div class="form-control-icon">
                                                        <i class="bi bi-wallet"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- // Basic Horizontal form layout section end -->
    @*<section class="input-group-select">
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-content">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6 mb-4">
                                        <h6>Fee</h6>
                                        <div class="input-group mb-3">
                                            <label class="input-group-text"
                                                   for="inputGroupSelect01">Options</label>
                                            <select class="form-select" id="FeePayer">
                                                <option selected>Choose...</option>
                                                <option value="Sender">Sender</option>
                                                <option value="Reciever">Reciever</option>

                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <h6>CCY</h6>
                                        <div class="input-group mb-3">
                                            <select class="form-select" id="SelectCCY">
                                                <option selected>Choose...</option>
                                                <option value="USD">USD</option>
                                                <option value="KHR">KHR</option>

                                            </select>
                                            <label class="input-group-text"
                                                   for="inputGroupSelect01">Options</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>*@
    <section class="section">
        <div class="row">
            <div class="col-6">
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title">Fee</h4>
                    </div>
                    <div class="card-body">
                        <ul class="list-unstyled mb-0">
                            <li class="d-inline-block me-2 mb-1">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="rdoFee"
                                           id="rdosender" value="Sender" checked required>
                                    <label class="form-check-label" for="flexRadioDefault1">
                                        Sender
                                    </label>
                                </div>
                            </li>
                            <li class="d-inline-block me-2 mb-1">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="rdoFee"
                                           id="rdoreciever" value="Reciever" required>
                                    <label class="form-check-label" for="flexRadioDefault2">
                                        Receiver
                                    </label>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="col-6">
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title">CCY</h4>
                    </div>
                    <div class="card-body">
                        <ul class="list-unstyled mb-0">
                            <li class="d-inline-block me-2 mb-1">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="rdoCCY"
                                           id="rdoUSD" value="USD" required>
                                    <label class="form-check-label" for="flexRadioDefault1">
                                        USD
                                    </label>
                                </div>
                            </li>
                            <li class="d-inline-block me-2 mb-1">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="rdoCCY"
                                           id="rdoKHR" value="KHR" checked required>
                                    <label class="form-check-label" for="flexRadioDefault2">
                                        KHR
                                    </label>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    @*// Basic multiple Column Form section start*@
    <section id="multiple-column-form">
        <div class="row match-height">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title"></h4>
                    </div>

                    <div class="card-content">
                        <div class="card-body">
                            <form class="form">
                                <div class="row">
                                    <div class="col-md-12 col-12">
                                        <div class="form-group">
                                            <label for="Amount">Amount</label>
                                            <input type="text" id="txtAmount" class="form-control"
                                                   placeholder="Amount" name="Amount-column">
                                        </div>
                                    </div>
                                    <div class="col-md-12 col-12">
                                        <div class="form-group">
                                            <label for="Fee">Fee Charge</label>
                                            <input type="text" id="txtFee" class="form-control"
                                                   placeholder="Fee Charge" name="Fee-column" readonly>
                                        </div>
                                    </div>
                                    <div class="col-md-12 col-12">
                                        <div class="form-group">
                                            <label for="ExRate-column" id="lbExRate">Excharge Rate</label>
                                            <input type="text" id="txtExRate" class="form-control"
                                                   placeholder="Excharge Rate" name="ExRate-column" />
                                        </div>
                                    </div>
                                    @*<div class="col-md-6 col-12">
                                            <div class="form-group">
                                                <label for="TransferAmount">Transfer Amount</label>
                                                <input type="text" id="txtTotal" class="form-control"
                                                       name="Transfer-column" placeholder="Transfer Amount">
                                            </div>
                                        </div>*@


                                    @*<div class="col-12 d-flex justify-content-end">
                                            <button type="submit"
                                                    class="btn btn-primary me-1 mb-1" id="btnSave">
                                                Submit
                                            </button>
                                            <button type="reset"
                                                    class="btn btn-light-secondary me-1 mb-1">
                                                Reset
                                            </button>
                                        </div>*@
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    @*<div id="app">
        <div id="main">
            <div class="page-heading">*@
    <section class="section">
        <div class="row">
            <div class="col-12">
                <div class="card">

                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-3 col-12">

                                <button class="btn btn-outline-success btn-lg btn-block" type="submit" data-target="#Total" data-toggle="modal" id="Txn">
                                    Transfer
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</form>
<div class="modal fade" id="Total" tabindex="-1" role="dialog" data-backdrop="Static">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Total</h5>

            </div>
            <div class="modal-body">
                <form class="needs-novalidate-update">
                    <div class="row">

                        <div class="col-sm-12">

                            Total Amount :

                            <input type="text" id="txtTotal" class="form-control"
                                   name="Transfer-column" readonly>
                        </div>
                    </div>
                    <hr />


                </form>

                <button type="submit" class="btn btn-primary" id="btnSave">Sumit</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="idMsg" tabindex="-1" role="dialog" data-backdrop="Static">
    <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                Message
            </div>
            <div class="modal-body">
                <div id="msg">
                    Transaction Successfully
                </div>
                
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="iderrMsg" tabindex="-1" role="dialog" data-backdrop="Static">
    <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                Message
            </div>
            <div class="modal-body">
                <div id="msg">
                    Transaction False !!!
                </div>
               
            </div>
        </div>
    </div>
</div>
@*</div>
        </div>
    </div>*@
@*<section id="multiple-column-form">
        <div class="row match-height">
            <div class="col-12">
                <div class="card">


                    <div class="card-content">
                        <div class="card-body">
                            <form class="form">
                                <div class="row">

                                    <div class="col-12 d-flex justify-content-end">
                                        <button type="submit"
                                                class="btn btn-primary me-1 mb-1" id="btnSave">
                                            Submit
                                        </button>
                                        <button type="reset"
                                                class="btn btn-light-secondary me-1 mb-1">
                                            Reset
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>*@
@*<div class="alert alert-danger shadow" role="alert" style="border-left:#721C24 5px solid; border-radius: 0px">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="True" style="color:#721C24">&times;</span>
        </button>
        <div class="row">
            <svg width="1.25em" height="1.25em" viewBox="0 0 16 16" class="m-1 bi bi-exclamation-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
            </svg>
            <p style="font-size:18px" class="mb-0 font-weight-light"><b class="mr-1">Alert!</b>This Account Number do not have in system</p>
        </div>
    </div>

    <div class="alert alert-danger" id="Accnull" role="alert">
        This Account Number do not have in system
    </div>*@
<script type="text/javascript">
    @*var show = {}
    //show.CusID = $('#Reciever-Acc').val()
      show.CusName = $('#Sender-Name').val()
    //show.Gender = $('#Sender-Gender').val()
    //show.Phone = $('#Sender-Phone').val()
    //show.Address = $('#Sender-Address').val()
    function btngetval() {
        $.ajax({
            url: '@Url.Action("GetValues", "Process")',
            method: 'GET',
            data: { sen: show },
            success: function (data) {
                data = JSON.parse(data);
                $('#Reciever-Acc').val(data.CusID);
               // $('#Sender-Name').val(data.CusName);
                $('#Sender-Gender').val(data.Gender);
                $('#Sender-Phone').val(data.Phone);
                $('#Sender-Address').val(data.Address);
                console.log(data)
            },
            error: function (err) {
                console.error(err);
            }
        })
    }*@
    $(document).ready(function () {
        //var show = {}
       //show.CusID = $('#Reciever-Acc').val()
      // show.CusName = $('#Sender-Name').val()
       //show.Gender = $('#Sender-Gender').val()
       //show.Phone = $('#Sender-Phone').val()
       //show.Address = $('#Sender-Address').val()
        // function btngetval() {
        $('#Txn').click(function () {
            $("input").prop('required', true);
            $('#Total').modal('show')

        });
        $('#back').click(function () {
            $('#idMsg').modal('hide')
        });
        function AccSender() {
            var n = $('#txtAccIDSender');
            if (n.val().length > 0) {
                var ANum = $('#txtAccIDSender').val();
                // var show = {}
                // show.CusID = $('#Reciever-Acc').val()
                //  show.CusName = $('#Sender-Name').val()
                // show.Gender = $('#Sender-Gender').val()
                // show.Phone = $('#Sender-Phone').val()
                //show.Address = $('#Sender-Address').val()
                $.ajax({
                url: '@Url.Action("GetValues", "Process")',
                method: 'GET',
              //  dataType: 'JSON',
                    data: {
                        AccNum: ANum
                    },
                success: function (data) {
                    data = JSON.parse(data);
                    $('#Sender-Name').val(data.CusName);
                    $('#Sender-Gender').val(data.Gender);
                    $('#Sender-Phone').val(data.Phone);
                    $('#Sender-Address').val(data.Address);
                    $('#Sender-Balance').val(data.Balance);

                   // console.log(data)
                },
                error: function (err) {
                    console.error(err);
                }
            });
            }

        }
        $("#txtAccIDSender").change(function () {
            AccSender()
        });
        function AccReciever() {
             var n = $('#Reciever-Acc');
            if (n.val().length > 0) {
                var ANum = $('#Reciever-Acc').val();
                // var show = {}
                // show.CusID = $('#Reciever-Acc').val()
                //  show.CusName = $('#Sender-Name').val()
                // show.Gender = $('#Sender-Gender').val()
                // show.Phone = $('#Sender-Phone').val()
                //show.Address = $('#Sender-Address').val()
                $.ajax({
                url: '@Url.Action("GetValues", "Process")',
              //  method: 'GET',
              //  dataType: 'JSON',
                    data: {
                        AccNum: ANum
                    },
                success: function (data) {
                    data = JSON.parse(data);

                    //$('#txtAccIDSender').val(data.AccID);

                    $('#Receiver-Name').val(data.CusName);
                    $('#Receiver-Gender').val(data.Gender);
                    $('#Receiver-Phone').val(data.Phone);
                    $('#Receiver-Address').val(data.Address);
                    $('#Receiver-Balance').val(data.Balance);

                   // console.log(data)
                },
                error: function (err) {
                    console.error(err);
                }
            });
            }
        }
        $("#Reciever-Acc").change(function () {
            AccReciever()
        });
         @*$("#txtFee").change(function () {
              $.post("@Url.Action("CalTotal", "Process")",
                  {
                      Fee :$('#txtFee').val(),
                      Amt : $('#txtAmount').val(),
                      ExRate : $('#txtExRate').val(),
                      Fee : $('#txtFee').val()

                  },
                  function (data) {
                      data = JSON.parse(data);
                    if (data == 0) {
                        $('#txtTotal').val(data.TotalAmt);

                    }

                });


        });*@


        @*$('#btnSave').click(function () {
            var R= {}
            R.Amt = $('#txtAmount').val()
            R.ReceiverAccNum = $('#Reciever-Acc').val()
            $.ajax({
                url: '@Url.Action("Reciever_Balance", "Process")',
                method: 'POST',
                data: {
                    bal2: R
                }
            });
           // alert('Balance')
        });*@
        $('#btnSave').click(function () {
            var S = {}
            S.Amt = $('#txtAmount').val()
            S.ReceiverAccNum = $('#Reciever-Acc').val()
            S.SenderBalance = $('#Sender-Balance').val()
            S.TotalAmt = $('#txtTotal').val()
            S.SenderAccNum = $('#txtAccIDSender').val()
            $.ajax({
                url: '@Url.Action("Sender_Balance", "Process")',
                method: 'POST',
                data: {
                    bal: S
                },
                success: function (data) {
                    if (data == 1) {
                        alert('Sender Do not have enough money in balance')
                    }

                }

            });
           // alert('Balance')
        });

        $("#Reciever-Acc").change(function () {

            $('#Status').html("Checking....");
            $.post("@Url.Action("CheckAccNum","Process")",
                {
                    AccNum: $('#Reciever-Acc').val()
                },
                function (data) {
                    if (data == 0) {

                        $('#Status').html('<font color="Green"> Have </font>');
                        $('#Reciever-Acc').css("border-color", "Green");
                    }
                    else if(data == 1) {
                       $('#Status').html('<font color="Red"> Dont have </font>');
                       $('#Reciever-Acc').css("border-color", "Red");
                        alert('This Account Number do not have in system')
                    }
                });

        });
        $("#txtAccIDSender").change(function () {

            $('#Status').html("Checking....");
            $.post("@Url.Action("CheckAccNum","Process")",
                {
                    AccNum: $('#txtAccIDSender').val()
                },
                function (data) {
                    if (data == 0) {
                        $('#Status').html('<font color="Green"> Have </font>');
                        $('#txtAccIDSender').css("border-color", "Green");
                    }
                    else if(data == 1) {
                       $('#Status').html('<font color="Red"> Dont have </font>');
                        $('#txtAccIDSender').css("border-color", "Red");
                       // $('#Accnull').show();
                        alert('This Account Number do not have in system')
                    }
                });
        });
        $("#txtUserID").change(function () {

            $('#Status').html("Checking....");
            $.post("@Url.Action("CheckUserID", "Process")",
                {
                    UserID: $('#txtUserID').val()
                },
                function (data) {
                    if (data == 0) {
                        $('#Status').html('<font color="Green"> Have </font>');
                        $('#txtUserID').css("border-color", "Green");
                    }
                    else if(data == 1) {
                       $('#Status').html('<font color="Red"> Dont have </font>');
                        $('#txtUserID').css("border-color", "Red");
                       // $('#Accnull').show();
                        alert('This User do not have in system')
                    }
                });
        });
        //function will be called on button click having id btnsave
        @*$("button[type='submit']").click(function () {
            var radioValue = $("input[name='rdoFee']:checked").val();
            if (radioValue : this.click) {
                $.ajax(
                    {
                        type: "POST", //HTTP POST Method
                        url: '@Url.Action("FundTransfer","Process")', // Controller/View
                        data: { //Passing data


                            FeePay: $('#rdoreciever').val()



                        }


                    });

            } else {
                $.ajax(
                    {
                        type: "POST", //HTTP POST Method
                        url: '@Url.Action("FundTransfer","Process")', // Controller/View
                        data: { //Passing data


                            FeePay: $('#rdosender').val()



                        }


                    });
            }
        });*@
        //var rate_value = {}
        //Obj.Branch = $('#cbBranch').val()
        //if (document.getElementById('rdosender').checked) {
        //    rate_value.FeePay = $('#rdosender').val()
        //} else if (document.getElementById('rdoreciever').checked) {
        //    rate_value.FeePay = $('#rdoreciever').val()
        //}

        @*$("#CheckSender").click(function () {
            var show = {}
            show.CusID = $('#Reciever-Acc').val()
            //show.Gender = $('#Sender-Gender').val()
            //show.Phone = $('#Sender-Phone').val()
            //show.Address = $('#Sender-Address').val()
           // var show = $('#Sender-Name').val();


                     $.ajax({
                            url: '@Url.Action("FundTransfer","Process")',
                            type: 'GET',
                            dataType: 'JSON',
                            data: { sen: show },
                         async: false,
                         error: function () {

                         },
                         success: function (data) {
                             if (Object.keys(data).length > 0) {
                                 $('#Sender-Name').val(data.CusName);
                                 $('#Sender-Gender').val(data.Gender);
                                 $('#Sender-Phone').val(data.Phone);
                                 $('#Sender-Address').val(data.Address);
                                // $('#Sender-Name').val(data.CusID);
                             }
                         }
                     });
        });*@
        $('#rdoUSD').change(function () {
            if ($(this).is(":checked")) {
                document.getElementById("txtExRate").readOnly = true;
                $('#txtExRate').val(1);
                $('#txtExRate').hide();
                $('#lbExRate').hide();


            }

        });
        $('#rdoKHR').change(function () {
            if ($(this).is(":checked")) {
                document.getElementById("txtExRate").readOnly = false;
                $('#txtExRate').val("");
                $('#txtExRate').show();
                $('#lbExRate').show();
            }

        });
        @*$("#txtFee").change(function () {



            var F = $('#txtFee');
            if (F.val().length > 0) {
             //  var Fee = $('#txtFee').val();
                $.ajax({
                url: '@Url.Action("CalTotal", "Process")',
                //method: 'POST',
               // dataType: 'JSON',
                    data: {

                      Amt :$('#txtAmount').val(),
                      ExRate :$('#txtExRate').val(),
                      Fee : $('#txtFee').val()
                    },
                success: function (data) {
                    data = JSON.parse(data);
                    $('#txtTotal').val(data.TotalAmt);
                   // console.log(data)
                },

            });
            }
        });*@
        $('#txtAmount').change(function () {
            var Am = $('#txtAmount');
               if (Am.val().length > 0) {
             //  var Fee = $('#txtFee').val();
                $.ajax({
                url: '@Url.Action("FeeCharge", "Process")',
                //method: 'POST',
               // dataType: 'JSON',
                    data: {

                        Amt: $('#txtAmount').val()

                    },
                success: function (data) {
                    data = JSON.parse(data);
                    $('#txtFee').val(data.Fee);
                   // console.log(data)
                },

               });
              }
        });
        $("#Txn").click(function () {
           // var Z = {}
            var F = $('#txtFee');
            if (document.getElementById('rdosender').checked) {
                if (F.val().length > 0) {
             //  var Fee = $('#txtFee').val();
                $.ajax({
                url: '@Url.Action("CalTotal", "Process")',
                //method: 'POST',
               // dataType: 'JSON',
                    data: {
                        Rdosender: $('#rdosender').val(),
                        Amt: $('#txtAmount').val(),
                        ExRate: $('#txtExRate').val(),
                        Fee: $('#txtFee').val(),
                        ReceiverAccNumber: $('#Reciever-Acc').val()
                    },
                success: function (data) {
                    data = JSON.parse(data);
                    $('#txtTotal').val(data.TotalAmt);
                   // console.log(data)
                    $('#Total').modal('show')
                },

               });
              }
            } else if (document.getElementById('rdoreciever').checked) {
                if (F.val().length > 0) {
             //  var Fee = $('#txtFee').val();
                $.ajax({
                url: '@Url.Action("CalTotal", "Process")',
                //method: 'POST',
               // dataType: 'JSON',
                    data: {
                        Rdoreciever: $('#rdoreciever').val(),
                        Amt: $('#txtAmount').val(),
                        ExRate: $('#txtExRate').val(),
                        Fee: $('#txtFee').val(),
                        ReceiverAccNumber: $('#Reciever-Acc').val()
                    },
                success: function (data) {
                    data = JSON.parse(data);
                    $('#txtTotal').val(data.TotalAmt);
                    $('#Total').modal('show')
                   // console.log(data)
                },

               });
              }
            }
            //Z.ReceiverAccNumber= $('#Reciever-Acc').val()
            //Z.Amt= $('#txtAmount').val()
            //Z.ExRate= $('#txtExRate').val()
            //Z.Fee = $('#txtFee').val()


        });
        @*var form = document.getElementsByClassName('needs-novalidate-update');

       var Validation = Array.prototype.filter.call(form,function(forms){

           forms.addEventListener('submit',function(event){

               if(forms.checkValidity()===false){

                   event.preventDefault();

               }
               else
               {

                   event.preventDefault();
                   $("#btnSave").click(function () {
                       $('#Total').modal('hide')
                       var Obj = {}

                       if (document.getElementById('rdosender').checked) {
                           Obj.FeePay = $('#rdosender').val()
                       } else if (document.getElementById('rdoreciever').checked) {
                           Obj.FeePay = $('#rdoreciever').val()
                       }

                       if (document.getElementById('rdoUSD').checked) {
                           Obj.CCY = $('#rdoUSD').val()

                           // document.getElementById("txtExRate").readOnly = true;
                       } else if (document.getElementById('rdoKHR').checked) {
                           Obj.CCY = $('#rdoKHR').val()
                       }
                       Obj.UserID = $('#txtUserID').val()
                       Obj.AccID = $("#txtAccIDSender").val()
                       Obj.Fee = $("#txtFee").val()
                       Obj.ExChange = $("#txtExRate").val()
                       Obj.TxnAmount = $('#txtAmount').val()
                       Obj.Total = $('#txtTotal').val()
                       Obj.SenderBalance = $('#Sender-Balance').val()

                        $.ajax({
                    type: 'POST', //HTTP POST Method
                    url: '@Url.Action("InsertTxn", "Process")', // Controller/View
                    dataType: 'JSON',
                    data: { //Passing data
                        txn:Obj
                        //UserID: $('#txtUserID').val(),
                        //AccID: $("#txtAccIDSender").val(),
                        //txn: rate_value,
                        //CCY: $('#SelectCCY').val(),
                        //Fee: $("#txtFee").val(),
                        //ExChange:$("#txtExRate").val(),
                        //TxnAmount: $('#txtAmount').val(),
                        //Total: $('#txtTotal').val(),


                            },
                            success: function (data) {
                                $('#idMsg').modal('show')

                            }
                        })

                   })


           }
               forms.classList.add('was-validated');

       },false)

     });*@
        $("#btnSave").click(function () {


            $('#Total').modal('hide')



            //if (document.getElementById('rdosender').checked == true) {
            //    FeePay: $('#rdosender').val();
            //} else if (document.getElementById('rdoreciever').checked == true) {
            //    FeePay: $('#rdoreciever').val();
            //}
            //var serialise = $("#rdosender").serialize();
            //var serialise = $("#rdoreciever").serialize();

            //var Sender = $("input[name='rdoFee']:checked").val()
            //var Reciever = $("input[name='rdoFee']:checked").val()

            var Obj = {}

            if (document.getElementById('rdosender').checked) {
                Obj.FeePay = $('#rdosender').val()
            } else if (document.getElementById('rdoreciever').checked) {
                Obj.FeePay = $('#rdoreciever').val()
            }

            if (document.getElementById('rdoUSD').checked) {
                Obj.CCY = $('#rdoUSD').val()

              // document.getElementById("txtExRate").readOnly = true;
            } else if (document.getElementById('rdoKHR').checked) {
                Obj.CCY = $('#rdoKHR').val()
            }
                        Obj.UserID= $('#txtUserID').val()
                        Obj.AccID= $("#txtAccIDSender").val()
                        Obj.Fee= $("#txtFee").val()
                        Obj.ExChange=$("#txtExRate").val()
                        Obj.TxnAmount= $('#txtAmount').val()
                        Obj.Total = $('#txtTotal').val()
                        Obj.SenderBalance = $('#Sender-Balance').val()
                        Obj.RecieverBalance = $('#Receiver-Balance').val()

            $.ajax({
                    type: 'POST', //HTTP POST Method
                    url: '@Url.Action("InsertTxn", "Process")', // Controller/View
                    dataType: 'JSON',
                    data: { //Passing data
                        txn:Obj
                        //UserID: $('#txtUserID').val(),
                        //AccID: $("#txtAccIDSender").val(),
                        //txn: rate_value,
                        //CCY: $('#SelectCCY').val(),
                        //Fee: $("#txtFee").val(),
                        //ExChange:$("#txtExRate").val(),
                        //TxnAmount: $('#txtAmount').val(),
                        //Total: $('#txtTotal').val(),
                    },
                   success: function (data) {
                       if (data == 0) {
                           $('#idMsg').modal('show')
                       } else if (data == 1) {
                           $('#iderrMsg').modal('show')
                       }
                       AccReciever()
                       AccSender()
                }

            });
        });
    });
</script>

@*// Basic multiple Column Form section end*@
<!-- Basic Vertical form layout section start -->
<!--<section id="basic-vertical-layouts">
    <div class="row match-height">
        <div class="col-md-6 col-12">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">Vertical Form</h4>
                </div>
                <div class="card-content">
                    <div class="card-body">
                        <form class="form form-vertical">
                            <div class="form-body">
                                <div class="row">
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label for="first-name-vertical">First Name</label>
                                            <input type="text" id="first-name-vertical"
                                                   class="form-control" name="fname"
                                                   placeholder="First Name">
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label for="email-id-vertical">Email</label>
                                            <input type="email" id="email-id-vertical"
                                                   class="form-control" name="email-id"
                                                   placeholder="Email">
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label for="contact-info-vertical">Mobile</label>
                                            <input type="number" id="contact-info-vertical"
                                                   class="form-control" name="contact"
                                                   placeholder="Mobile">
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label for="password-vertical">Password</label>
                                            <input type="password" id="password-vertical"
                                                   class="form-control" name="contact"
                                                   placeholder="Password">
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class='form-check'>
                                            <div class="checkbox">
                                                <input type="checkbox" id="checkbox3"
                                                       class='form-check-input' checked>
                                                <label for="checkbox3">Remember Me</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 d-flex justify-content-end">
                                        <button type="submit"
                                                class="btn btn-primary me-1 mb-1">
                                            Submit
                                        </button>
                                        <button type="reset"
                                                class="btn btn-light-secondary me-1 mb-1">
                                            Reset
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-12">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">Vertical Form with Icons</h4>
                </div>
                <div class="card-content">
                    <div class="card-body">
                        <form class="form form-vertical">
                            <div class="form-body">
                                <div class="row">
                                    <div class="col-12">
                                        <div class="form-group has-icon-left">
                                            <label for="first-name-icon">First Name</label>
                                            <div class="position-relative">
                                                <input type="text" class="form-control"
                                                       placeholder="Input with icon left"
                                                       id="first-name-icon">
                                                <div class="form-control-icon">
                                                    <i class="bi bi-person"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">

                                        <div class="form-group has-icon-left">
                                            <label for="email-id-icon">Email</label>
                                            <div class="position-relative">
                                                <input type="text" class="form-control"
                                                       placeholder="Email" id="email-id-icon">
                                                <div class="form-control-icon">
                                                    <i class="bi bi-envelope"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-group has-icon-left">
                                            <label for="mobile-id-icon">Mobile</label>
                                            <div class="position-relative">
                                                <input type="text" class="form-control"
                                                       placeholder="Mobile" id="mobile-id-icon">
                                                <div class="form-control-icon">
                                                    <i class="bi bi-phone"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-group has-icon-left">
                                            <label for="password-id-icon">Password</label>
                                            <div class="position-relative">
                                                <input type="password" class="form-control"
                                                       placeholder="Password" id="password-id-icon">
                                                <div class="form-control-icon">
                                                    <i class="bi bi-lock"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class='form-check'>
                                            <div class="checkbox mt-2">
                                                <input type="checkbox" id="remember-me-v"
                                                       class='form-check-input' checked>
                                                <label for="remember-me-v">Remember Me</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 d-flex justify-content-end">
                                        <button type="submit"
                                                class="btn btn-primary me-1 mb-1">
                                            Submit
                                        </button>
                                        <button type="reset"
                                                class="btn btn-light-secondary me-1 mb-1">
                                            Reset
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>-->
<!-- // Basic Vertical form layout section end -->
@*</div>
        </div>
    </div>*@
<!-- // Basic multiple Column Form section start -->
<!--<body>

    <div id="app">
        <div class="page-heading">
            <section id="multiple-column-form">
                <div class="row match-height">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">Multiple Column</h4>
                            </div>
                            <div class="card-content">
                                <div class="card-body">
                                    <form class="form">
                                        <div class="row">
                                            <div class="col-md-6 col-12">
                                                <div class="form-group">
                                                    <label for="first-name-column">First Name</label>
                                                    <input type="text" id="first-name-column" class="form-control"
                                                           placeholder="First Name" name="fname-column">
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-12">
                                                <div class="form-group">
                                                    <label for="last-name-column">Last Name</label>
                                                    <input type="text" id="last-name-column" class="form-control"
                                                           placeholder="Last Name" name="lname-column">
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-12">
                                                <div class="form-group">
                                                    <label for="city-column">City</label>
                                                    <input type="text" id="city-column" class="form-control"
                                                           placeholder="City" name="city-column">
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-12">
                                                <div class="form-group">
                                                    <label for="country-floating">Country</label>
                                                    <input type="text" id="country-floating" class="form-control"
                                                           name="country-floating" placeholder="Country">
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-12">
                                                <div class="form-group">
                                                    <label for="company-column">Company</label>
                                                    <input type="text" id="company-column" class="form-control"
                                                           name="company-column" placeholder="Company">
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-12">
                                                <div class="form-group">
                                                    <label for="email-id-column">Email</label>
                                                    <input type="email" id="email-id-column" class="form-control"
                                                           name="email-id-column" placeholder="Email">
                                                </div>
                                            </div>
                                            <div class="form-group col-12">
                                                <div class='form-check'>
                                                    <div class="checkbox">
                                                        <input type="checkbox" id="checkbox5"
                                                               class='form-check-input' checked>
                                                        <label for="checkbox5">Remember Me</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 d-flex justify-content-end">
                                                <button type="submit"
                                                        class="btn btn-primary me-1 mb-1">
                                                    Submit
                                                </button>
                                                <button type="reset"
                                                        class="btn btn-light-secondary me-1 mb-1">
                                                    Reset
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

</body>-->
<!-- // Basic multiple Column Form section end -->
<script src="~/assets/vendors/perfect-scrollbar/perfect-scrollbar.min.js"></script>
<script src="~/assets/js/bootstrap.bundle.min.js"></script>
<script src="~/assets/vendors/sweetalert2/sweetalert2.all.min.js"></script>
<script src="~/assets/vendors/apexcharts/apexcharts.js"></script>
<script src="~/assets/js/pages/dashboard.js"></script>

<script src="~/assets/js/main.js"></script>

